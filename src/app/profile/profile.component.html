<main>
  <app-header/>
  <app-sidebar/>
  @if (account) {
    <section>
        <div class="profile-container">
          <div>
            <img #profilePic [src]="profilePicture || 'assets/default-profile.png'"
                 alt="Profile Picture" role="button"
                 title="Edit Profile Picture"
                 (click)="modalVisible = !modalVisible" />
            <strong>{{ account.firstName }} {{ account.lastName }}</strong>
            <p><i class="fa-solid fa-user"></i> {{ account.username }}</p>  <!-- Icon cho Username -->
            <p><i class="fa fa-envelope"></i> {{ account.email }}</p>      <!-- Icon cho Email -->
            <p><i class="fa-solid fa-user-tag"></i> {{ account.firstName }}</p>  <!-- Icon cho First Name -->
            <p><i class="fa-solid fa-user-tag"></i> {{ account.lastName }}</p>   <!-- Icon cho Last Name -->
          </div>
          <div>
            <h2>About</h2>
            <p>{{ account.firstName }} {{ account.lastName }} is a valued user of our platform.</p>
          </div>
        </div>
        <div class="form-container">
          <form method="post" (submit)="onUpdate()">
            <h2>Personal Details</h2>
            <div class="personal-details">
              <div class="form-group">
                <label>First Name</label>
                <input type="text" [(ngModel)]="tempAccount.firstName" name="firstName" required />
              </div>
              <div class="form-group">
                <label>Last Name</label>
                <input type="text" [(ngModel)]="tempAccount.lastName" name="lastName" required />
              </div>
              <div class="form-group">
                <label>Email</label>
                <input type="text" [(ngModel)]="tempAccount.email" name="email" required />
              </div>
            </div>
            <h2>Address</h2>
            <div class="address-details">
              <div class="form-group">
                <label>City</label>
                <input type="text" placeholder="bbsr" name="city" />
              </div>
              <div class="form-group">
                <label>State</label>
                <input type="text" placeholder="odisha" name="state" />
              </div>
              <div class="form-group">
                <label>Country</label>
                <input type="text" placeholder="india" name="country" />
              </div>
              <div class="form-group">
                <label>Zip Code</label>
                <input type="text" placeholder="123456" name="zipcode" />
              </div>
            </div>
            <div class="button-group">
              <button type="submit">Update</button>
            </div>
          </form>
        </div>
      </section>
  }
  @if (!account) {
    <div>Loading User...</div>
  }
</main>

 @if (toastVisible) {
  <app-toast [heading]="toastHeading" [description]="toastDescription">
  </app-toast>
}
